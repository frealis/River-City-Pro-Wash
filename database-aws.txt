      from botocore.exceptions import ClientError
      import boto3

      SENDER = Template("River City Pro Wash <$email_admin>").substitute(email_admin=email_admin)
      RECIPIENT = Template("$email").substitute(email=email)
      AWS_REGION = "us-east-1"

      # The subject line for the email.
      SUBJECT = "Thank you for contacting River City Pro Wash!"

      # The subject line for the site administrator.
      ADMIN_SUBJECT = "Contact Us Form Submission Notification"

      # The email body for recipients with non-HTML email clients.
      BODY_TEXT = (Template("Dear $name\r\n\n"
                  "Thank you for contacting River City Pro Wash! "
                  "A member of our team will contact you shortly.\n\n"
                  "Regards,\n"
                  "River City Pro Wash\n\n"
                  "(804) 239-6085\n"
                  "www.rivercityprowash.com").substitute(name=name)
                  )

      # The email body for administrators with non-HTML email clients.
      ADMIN_BODY_TEXT = (Template("Name: $name\n"
                  "Address: $address\n"
                  "Phone: $phone\n"
                  "Email: $email\n"
                  "Message: $message").substitute(name=name, address=address, phone=phone, email=email, message=message)
                  )
            
      # The HTML body of the email sent to the customer.
      BODY_HTML = """<html>
      <head></head>
      <body>
        <p>
          Dear """ + Template('$name').substitute(name=name) + """<br><br>
          Thank you for contacting River City Pro Wash!
          A member of our team will contact you shortly.<br><br>
          Regards,<br>
          River City Pro Wash<br><br>
          (804) 239-6085<br>
          www.rivercityprowash.com
        </p>
      </body>
      </html>
                  """

      phone_str = str(phone)
      phone_list = list(phone_str)
      phone_ac = phone_list[0] + phone_list[1] + phone_list[2]
      phone_3d = phone_list[3] + phone_list[4] + phone_list[5]
      phone_4d = phone_list[6] + phone_list[7] + phone_list[8] + phone_list[9]
      phone_pretty = Template('($phone_ac) $phone_3d - $phone_4d').substitute(phone_ac=phone_ac, phone_3d=phone_3d, phone_4d=phone_4d)

      # The HTML body of the email sent to the site administrator.
      ADMIN_BODY_HTML = """<html>
      <head></head>
      <body>
        <p>
          Name: """ + Template('$name').substitute(name=name) + """<br>
          Address: """ + Template('$address').substitute(address=address) + """<br>
          Phone: """ + Template('$phone').substitute(phone=phone_pretty) + """<br>
          Email: """ + Template('$email').substitute(email=email) + """<br>
          Message: """ + Template('$message').substitute(message=message) + """<br>
        </p>
      </body>
      </html>
                        """    

      # The character encoding for the email.
      CHARSET = "UTF-8"

      # Create a new SES resource and specify a region.
      client = boto3.client('ses',region_name=AWS_REGION)

      # Try to send the email.
      try:

        # Send thank-you email to customer.
        response = client.send_email(
          Destination={
            'ToAddresses': [RECIPIENT,],
          },
          Message={
            'Body': {
              'Html': {'Charset': CHARSET, 'Data': BODY_HTML,},
              'Text': {'Charset': CHARSET, 'Data': BODY_TEXT,},
            },
            'Subject': {'Charset': CHARSET, 'Data': SUBJECT,},
          },
          Source=SENDER,
        )

        # Send notification to site administrator when 'Contact Us' form is
        # submitted.
        response = client.send_email(
          Destination={
            'ToAddresses': [SENDER,],
          },
          Message={
            'Body': {
              'Html': {'Charset': CHARSET, 'Data': ADMIN_BODY_HTML,},
              'Text': {'Charset': CHARSET, 'Data': ADMIN_BODY_TEXT,},
            },
            'Subject': {'Charset': CHARSET, 'Data': ADMIN_SUBJECT,},
          },
          Source=SENDER,
        )

      # Display an error if something goes wrong.	
      except ClientError as e:
        print(e.response['Error']['Message'])
      else:
        print("Email sent! Message ID:"),
        print(response['MessageId'])